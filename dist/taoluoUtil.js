(()=>{"use strict";const e=function(e){var t,n="",r=$('[ng-model="'+e+'"]');if(r.length>0&&(n=r.is("input, textarea, select")?r.val():r.text()),!n){var l=$("#"+e);l.length>0&&(n=l.is("input, textarea, select")?l.val():l.text())}return n||(t=$("."+e)).length>0&&(n=t.is("input, textarea, select")?t.val():t.text()),n||((t=$('[name="'+e+'"]')).length>0||(t=$('[data="'+e+'"]').length>0))&&(n=t.is("input, textarea, select")?t.val():t.text()),n},t=function(e){var t={};return $.each(e,(function(e,r){var l=n(r);t[e]=l})),t},n=function(e){var t="",n=$('[ng-model="'+e+'"]');if(n.length>0&&(t=n.is("input, textarea, select")?n.val():n.text()),!t){var r=$("#"+e);r.length>0&&(t=r.is("input, textarea, select")?r.val():r.text())}if(!t){var l=$("."+e);l.length>0&&(t=l.is("input, textarea, select")?l.val():l.text())}return t},r=function(e,t){var n={};return $.each(e,(function(e,r){var l="",a=$(t).find('[ng-model="'+r+'"]');if(a.length>0&&(l=a.is("input, textarea, select")?a.val():a.text()),!l){var u=$(t).find("#"+r);u.length>0&&(l=u.is("input, textarea, select")?u.val():u.text())}if(!l){var i=$(t).find("."+r);i.length>0&&(l=i.is("input, textarea, select")?i.val():i.text())}n[e]=l})),n},l=function(e){try{$.each(e,(function(e,t){var n=$('[ng-model="'+e+'"]');if(n.length>0)n.is("input, textarea, select")?n.val(t):n.text(t);else{var r=$("#"+e);if(r.length>0)r.is("input, textarea, select")?r.val(t):r.text(t);else{var l=$("."+e);l.length>0&&(l.is("input, textarea, select")?l.val(t):l.text(t))}}}))}catch(e){}},a=function(e,t){let r=n(e);var l=$('[ng-model="'+t+'"]');if(l.length>0)l.is("input, textarea, select")?l.val(r):l.text(r);else{var a=$("#"+t);if(a.length>0)a.is("input, textarea, select")?a.val(r):a.text(r);else{var u=$("."+t);u.length>0&&(u.is("input, textarea, select")?u.val(r):u.text(r))}}},u=function(e,t){$.each(e,(function(e,n){var r=$(t).find('[ng-model="'+e+'"]');if(r.length>0)r.is("input, textarea, select")?r.val(n):r.text(n);else{var l=$(t).find("#"+e);if(l.length>0)l.is("input, textarea, select")?l.val(n):l.text(n);else{var a=$(t).find("."+e);a.length>0&&(a.is("input, textarea, select")?a.val(n):a.text(n))}}}))},i=function(e,t){let n=[],r="";if(e)r="#"+e;else if(!t)return console.error("请传入对应参数tableId,或Element"),n;return document.querySelector(r)?(document.querySelectorAll("#"+e+" tr").forEach((e=>{e.querySelectorAll("td").forEach((e=>{let r=e.querySelectorAll("input"),l=e.querySelectorAll("select"),a=e.querySelectorAll("p");r.length>0&&r.forEach((e=>{let r=$(e).attr(t);r&&n.push(r)})),l.length>0&&l.forEach((e=>{let r=$(e).attr(t);r&&n.push(r)})),a.length>0&&a.forEach((e=>{let r=$(e).attr(t);r&&n.push(r)}))}))})),n):(console.error("没有找到有表格，请检查."),n)},s=function(e){if(void 0===e||""==e)return"参数不能为空";var t={plugId:window.plugId,flag:window.flag,taskId:window.taskId,myAnswer:JSON.stringify(e)};ajaxBase.saveTaskData(t,!1,null,(function(e){return layer.closeAll("loading"),1==e.success||(top.layer.msg(e.message),!1)}),(function(e){return top.layer.closeAll("loading"),top.layer.msg("保存失败"),!1}))},o=function(e,t,n,r){if(D(t)||D(n))return"参数需要有值";if(0!==Object.values(r).length){var a={},u=i(t,n);if(0===e.length||D(e))console.log("No strArr"),Object.keys(r).forEach(((e,t)=>{a[u[t]]=r[e]}));else{console.log("Yes strArr");for(var s=0;s<u.length;s++)a[u[s]]=r[e[s]]}return l(a),a}return"第四个参数值不能为空"},c=function(e,t,n,r,l){if(e.length>0||""!==e){$("#"+n).empty();for(let t=0;t<l.length;t++)$("#"+n).append(e)}var a=LT.getElementsFromTable(n,r);a=O(a),$("#"+n+" tr").each((function(e,n){for(var r={},i=0;i<a.length;i++)r[a[i]]=l[e][t[i]];u(r,n)}))},f=function(e,t,n,r){if(D(t)||D(n))return"参数需要有值";if(0!==Object.values(r).length){var l={},a=i(t,n);if(0===e.length||D(e))console.log("No strArr"),Object.keys(r).forEach(((e,t)=>{l[a[t]]=r[e]}));else{console.log("Yes strArr");for(var u=0;u<a.length;u++)l[a[u]]=r[e[u]]}return d(t,l),l}return"第四个参数值不能为空"},F=function(e,t,n){var r=$(e).find("#"+n+", [name='"+n+"'], [ng-model='"+n+"'], ."+n);0===r.length&&(r=$("#"+e).find("#"+n+", [name='"+n+"'], [ng-model='"+n+"'], ."+n));try{t.includes("❀")?r.is("input, textarea, select")?r.val(t.split("❀")[0]):r.text(t.split("❀")[0]):r.is("input, textarea, select")?r.val(t):r.text(t),"2"==t.split("❀")[1]&&r.css({"background-color":"red"})}catch(e){console.log(n)}},d=function(e,t){try{$.each(t,(function(t,n){F(e,n,t)}))}catch(e){return e}},g=function(e,t){for(const n in t)e.setAttribute(n,t[n]);return e},m=function(e,t){if(!e)return;let n=document.createEvent("Events");n.initEvent(t,!0,!0),t in e?(e[t](),["blur","scroll","select"].includes(t)&&e.dispatchEvent(n)):e.dispatchEvent(n)},p=function(e){Array.from(document.querySelectorAll(e)).forEach((e=>e.style.display="none"))},h=function(e){return Object.keys(e).reduce(((t,n)=>(t.append(n,e[n]),t)),new FormData)},x=function(e,t){var n=$("#"+e)[0].contentWindow;n&&"function"==typeof n[t]?n[t]():console.log(t+" 方法不存在或不是一个函数")},v=function(e,t){return e.reduce(((e,n)=>[...e,t.reduce(((e,t)=>({...e,[t]:n[t]})),{})]),[])},y=function(e){return null===e},b=function(e){return"number"==typeof e},A=function(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()},E=function(e,t){return A(e)===t},D=function(e){return void 0===e},V=function(e){return Object.values(e).length},N=function(){return Array.from(arguments).reduce(((e,t)=>function(e,t){for(var n in t)e[n]=e[n]&&"[object Object]"===e[n].toString()?merge(e[n],t[n]):e[n]=t[n];return e}(e,t)),{})},T=(e,t,n)=>{if(!["array","object"].includes(A(e)))throw new TypeError("The first argument should be either an object or an array！");if("[object Object]"!==Object.prototype.toString.call(t))throw new TypeError("The parameter keyMap should be an object!");let r=Array.isArray(e)?[]:{};if(e instanceof Object)for(let l in e){let a=Object.keys(t).includes(l)?t[l]:l;r[a]=e[l],n&&["array","object"].includes(A(e[l]))&&Object.keys(e[l]).length&&(r[a]=T(e[l],t,n))}return r},w=function(e,t){return isNaN(e)?t:parseFloat(e).toFixed(2)},j=function(e){return isNaN(e)?"":parseFloat(e).toFixed(2)},C=function(e,t,n){return e.filter((e=>e[`${t}`]===n))},O=function(e){for(var t=[],n={},r=0;r<e.length;r++)n[e[r]]||(n[e[r]]=!0,t.push(e[r]));return t},S=function(e){return"symbol"!=typeof e&&!isNaN(parseFloat(e))&&isFinite(e)},k=function(e,t=!1,n,r){if(void 0===e||null==e)return"";let l=e+"";if(!S(l))return"";let a=!l.includes("."),u=0==(n=void 0===n?a?0:l.split(".")[1].length:n)?Math.round(l)+"":a?l.split(".")[0]:(I(1*l+"",n)+"").split(".")[0];l=I(1*l+"",n)+"";let i=0==n||a?"":l.split(".")[1];i=(i||"").padEnd(n,0);let s=(t?u.replace(/(?=(?!\b)(\d{3})+$)/g,","):u)+(i.length?"."+i:"");return r?Number(s):s},I=function(e,t){return void 0===t?e:Number(Math.round(e+"e"+(t||0))+"e-"+(t||0))},J=function(e,t){for(var n=[],r=0;r<t.length;r++){var l=t[r];if(e.hasOwnProperty(l)){var a=e[l];null!=a&&""!==a||n.push(l)}else n.push(l)}if(n.length>0){var u=function(e){return"以下必填项未填写:<br>"+e.map((e=>"• "+e)).join("<br>")+"<br>"}(n);return layer.confirm(u,{icon:2}),!1}return!0},B=function(e){return/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(e)};function q(e){var t=e;if(""==t)return"身份证号码不能为空";if(!new RegExp(/(^\d{15}$)|(^\d{17}(\d|x|X)$)/i).exec(t))return"身份证号码长度必须正确，请核对！";if(new RegExp(/^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$/).exec(t))tmpBirthday="19"+t.substring(6,8)+"-"+t.substring(8,10)+"-"+t.substring(10,12);else{tmpSum=0,t=t.replace(/x|X$/i,"a");for(var n=17;n>=0;n--)tmpSum+=Math.pow(2,n)%11*parseInt(t.charAt(17-n),11);if(tmpSum%11!=1)return"身份证号码不符相关标准，请核对！";tmpBirthday=t.substring(6,10)+"-"+t.substring(10,12)+"-"+t.substring(12,14)}if(null=={11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",91:"国外"}[parseInt(t.substring(0,2))])return"身份证号码证件地区未知，请核对！";var r=new Date(tmpBirthday.replace(/-/g,"/"));return tmpBirthday==r.getFullYear()+"-"+getAppendZore(r.getMonth()+1)+"-"+getAppendZore(r.getDate())||"身份证号码出生日期非法，请核对！"}$(document).on("click",".select-head",(function(e){var t=$(this).siblings(".select-body"),n=$(this).find(".select-icon");t.is(":visible")?(t.hide(),n.removeClass("icon-Y")):(t.show(),n.addClass("icon-Y")),e.stopPropagation()})),$(document).on("click",".select-body li",(function(){var e=$(this).closest(".select-body"),t=e.prev();e.hide(),t.find(".t5CodeOfExemption").text($(this).text()),t.find(".select-icon").removeClass("icon-Y")})),$(document).on("click",(function(e){$(e.target).closest(".select-box-tao").length||($(".select-body").hide(),$(".select-icon").removeClass("icon-Y"))})),window.taoLuoUtil={setAttr:g,trigger:m,hide:p,fromData:h,pick:v,isNull:y,isNumber:b,isEmail:B,getType:A,isType:E,isUndefined:D,mergeObject:N,convertKey:T,filteredArray:C,isNum:S,fmtNum:k,getAnyNameValue:e,getValuesFromJson:t,setValuesFromJson:l,saveStuData:s,setTableValuesFromJson:u,getElementsFromTable:i,getTableValuesFromJson:r,setSingleValueByAttrName:a,getSingleValue:n,doCheckRealCard:q,objectLength:V,setValuesByTableId:o},window.LT={setAttr:g,trigger:m,hide:p,fromData:h,pick:v,isNull:y,isNumber:b,isEmail:B,getType:A,isType:E,isUndefined:D,mergeObject:N,convertKey:T,filteredArray:C,isNum:S,fmtNum:k,getAnyNameValue:e,getValuesFromJson:t,setValuesFromJson:l,saveStuData:s,setTableValuesFromJson:u,getElementsFromTable:i,getTableValuesFromJson:r,setSingleValueByAttrName:a,getSingleValue:n,doCheckRealCard:q,objectLength:V,setValuesByTableId:o,setAnswerValuesByTableId:f,typeColor:F,callIframeMethod:x,isNaNToValue:w,isNaNToNullString:j,customTableAssignments:c,uniqueFn:O,setTableValuesAndColor:d,checkAndAlertEmptyValues:J,allValuesEmpty},window.domOption={setAttr:g,trigger:m,getAnyNameValue:e,getSingleValue:n,hide:p,callIframeMethod:x},window.tableOption={getValuesFromJson:t,setValuesFromJson:l,setTableValuesFromJson:u,getElementsFromTable:i,getTableValuesFromJson:r,setValuesByTableId:o,setAnswerValuesByTableId:f,customTableAssignments:c,setTableValuesAndColor:d},window.common={getType:A,isType:E,isNum:S,fmtNum:k,isNumber:b,isEmail:B,saveStuData:s,isUndefined:D,setAnyTypeValue:function(e,t){var n=$("#"+e+", [name='"+e+"'], [ng-model='"+e+"'], ."+e);0==n.length&&console.log("请检查，有误！获取到的attName的length=>"+n.length);try{return n.is("input, textarea, select")?n.val(t):n.text(t),"true"}catch(e){return console.log("请检查，有误！=>"+e),"请检查，有误！=>"+e}},isNaNToValue:w,isNaNToNullString:j,uniqueFn:O,checkAndAlertEmptyValues:J,allValuesEmpty},window.jsonObject={isUndefined:D,mergeObject:N,convertKey:T,objectLength:V,isMatch:function(e,t){const n=Object.keys(t),r=n.length;if(null==e)return!r;const l=Object(e);for(let e=0;e<r;e++){const r=n[e];if(t[r]!==l[r]||!(r in l))return!1}return!0},fromData:h,checkAndAlertEmptyValues:J,allValuesEmpty},window.arrayOption={filteredArray:C,uniqueFn:O}})();