(()=>{"use strict";const e=function(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()},t=(n,u,r)=>{if(!["array","object"].includes(e(n)))throw new TypeError("The first argument should be either an object or an array！");if("[object Object]"!==Object.prototype.toString.call(u))throw new TypeError("The parameter keyMap should be an object!");let a=Array.isArray(n)?[]:{};if(n instanceof Object)for(let l in n){let i=Object.keys(u).includes(l)?u[l]:l;a[i]=n[l],r&&["array","object"].includes(e(n[l]))&&Object.keys(n[l]).length&&(a[i]=t(n[l],u,r))}return a},n=function(e){return"symbol"!=typeof e&&!isNaN(parseFloat(e))&&isFinite(e)},u=function(e,t){return void 0===t?e:Number(Math.round(e+"e"+(t||0))+"e-"+(t||0))};window.taoLuoUtil={setAttr:function(e,t){for(const n in t)e.setAttribute(n,t[n]);return e},trigger:function(e,t){if(!e)return;let n=document.createEvent("Events");n.initEvent(t,!0,!0),t in e?(e[t](),["blur","scroll","select"].includes(t)&&e.dispatchEvent(n)):e.dispatchEvent(n)},hide:function(e){Array.from(document.querySelectorAll(e)).forEach((e=>e.style.display="none"))},fromData:function(e){return Object.keys(e).reduce(((t,n)=>(t.append(n,e[n]),t)),new FormData)},pick:function(e,t){return e.reduce(((e,n)=>[...e,t.reduce(((e,t)=>({...e,[t]:n[t]})),{})]),[])},isNull:function(e){return null===e},isNumber:function(e){return"number"==typeof e},isEmail:function(e){return/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(e)},getType:e,isType:function(t,n){return e(t)===n},isUndefined:function(e){return void 0===e},mergeObject:function(){return Array.from(arguments).reduce(((e,t)=>function(e,t){for(var n in t)e[n]=e[n]&&"[object Object]"===e[n].toString()?merge(e[n],t[n]):e[n]=t[n];return e}(e,t)),{})},convertKey:t,filteredArray:function(e,t,n){return e.filter((e=>e[`${t}`]===n))},isNum:n,fmtNum:function(e,t=!1,r,a){if(void 0===e||null==e)return"";let l=e+"";if(!n(l))return"";let i=!l.includes("."),F=0==(r=void 0===r?i?0:l.split(".")[1].length:r)?Math.round(l)+"":i?l.split(".")[0]:(u(1*l+"",r)+"").split(".")[0];l=u(1*l+"",r)+"";let o=0==r||i?"":l.split(".")[1];o=(o||"").padEnd(r,0);let c=(t?F.replace(/(?=(?!\b)(\d{3})+$)/g,","):F)+(o.length?"."+o:"");return a?Number(c):c},getAnyNameValue:function(e){var t="",n=$('[ng-model="'+e+'"]');if(n.length>0&&(t=n.is("input, textarea, select")?n.val():n.text()),!t){var u=$("#"+e);u.length>0&&(t=u.is("input, textarea, select")?u.val():u.text())}if(!t){var r=$("."+e);r.length>0&&(t=r.is("input, textarea, select")?r.val():r.text())}return t},getValuesFromJson:function(e){var t={};return $.each(e,(function(e,n){var u="",r=$('[ng-model="'+n+'"]');if(r.length>0&&(u=r.is("input, textarea, select")?r.val():r.text()),!u){var a=$("#"+n);a.length>0&&(u=a.is("input, textarea, select")?a.val():a.text())}if(!u){var l=$("."+n);l.length>0&&(u=l.is("input, textarea, select")?l.val():l.text())}t[e]=u})),t},setValuesFromJson:function(e){$.each(e,(function(e,t){var n=$('[ng-model="'+e+'"]');if(n.length>0)n.is("input, textarea, select")?n.val(t):n.text(t);else{var u=$("#"+e);if(u.length>0)u.is("input, textarea, select")?u.val(t):u.text(t);else{var r=$("."+e);r.length>0&&(r.is("input, textarea, select")?r.val(t):r.text(t))}}}))},saveStuData:function(e){if(void 0===e||""==e)return"参数不能为空";var t={plugId:window.plugId,flag:window.flag,taskId:window.taskId,myAnswer:JSON.stringify(e)};ajaxBase.saveTaskData(t,!1,null,(function(e){return layer.closeAll("loading"),1==e.success||(top.layer.msg(e.message),!1)}),(function(e){return top.layer.closeAll("loading"),top.layer.msg("保存失败"),!1}))},setTableValuesFromJson:function(e,t){$.each(e,(function(e,n){var u=$(t).find('[ng-model="'+e+'"]');if(u.length>0)u.is("input, textarea, select")?u.val(n):u.text(n);else{var r=$(t).find("#"+e);if(r.length>0)r.is("input, textarea, select")?r.val(n):r.text(n);else{var a=$(t).find("."+e);a.length>0&&(a.is("input, textarea, select")?a.val(n):a.text(n))}}}))},getElementsFromTable:function(e,t){let n=[],u="";if(e)u="#"+e;else if(!t)return console.error("请传入对应参数tableId,或Element"),n;return document.querySelector(u)?(document.querySelectorAll("#"+e+" tr").forEach((e=>{e.querySelectorAll("td").forEach((e=>{let u=e.querySelectorAll("input"),r=e.querySelectorAll("select");u.length>0&&u.forEach((e=>{let u=$(e).attr(t);u&&n.push(u)})),r.length>0&&r.forEach((e=>{let u=$(e).attr(t);u&&n.push(u)}))}))})),n):(console.error("没有找到有表格，请检查."),n)},getTableValuesFromJson:function(e,t){var n={};return $.each(e,(function(e,u){var r="",a=$(t).find('[ng-model="'+u+'"]');if(a.length>0&&(r=a.is("input, textarea, select")?a.val():a.text()),!r){var l=$(t).find("#"+u);l.length>0&&(r=l.is("input, textarea, select")?l.val():l.text())}if(!r){var i=$(t).find("."+u);i.length>0&&(r=i.is("input, textarea, select")?i.val():i.text())}n[e]=r})),n}}})();