(()=>{"use strict";const e=function(e){var t,n="",r=$('[ng-model="'+e+'"]');if(r.length>0&&(n=r.is("input, textarea, select")?r.val():r.text()),!n){var a=$("#"+e);a.length>0&&(n=a.is("input, textarea, select")?a.val():a.text())}return n||(t=$("."+e)).length>0&&(n=t.is("input, textarea, select")?t.val():t.text()),n||((t=$('[name="'+e+'"]')).length>0||(t=$('[data="'+e+'"]').length>0))&&(n=t.is("input, textarea, select")?t.val():t.text()),n},t=function(e){var t={};return $.each(e,(function(e,r){var a=n(r);t[e]=a})),t},n=function(e){var t="",n=$('[ng-model="'+e+'"]');if(n.length>0&&(t=n.is("input, textarea, select")?n.val():n.text()),!t){var r=$("#"+e);r.length>0&&(t=r.is("input, textarea, select")?r.val():r.text())}if(!t){var a=$("."+e);a.length>0&&(t=a.is("input, textarea, select")?a.val():a.text())}return t},r=function(e,t){var n={};return $.each(e,(function(e,r){var a="",l=$(t).find('[ng-model="'+r+'"]');if(l.length>0&&(a=l.is("input, textarea, select")?l.val():l.text()),!a){var u=$(t).find("#"+r);u.length>0&&(a=u.is("input, textarea, select")?u.val():u.text())}if(!a){var i=$(t).find("."+r);i.length>0&&(a=i.is("input, textarea, select")?i.val():i.text())}n[e]=a})),n},a=function(e){try{$.each(e,(function(e,t){var n=$('[ng-model="'+e+'"]');if(n.length>0)n.is("input, textarea, select")?n.val(t):n.text(t);else{var r=$("#"+e);if(r.length>0)r.is("input, textarea, select")?r.val(t):r.text(t);else{var a=$("."+e);a.length>0&&(a.is("input, textarea, select")?a.val(t):a.text(t))}}}))}catch(e){}},l=function(e,t){let r=n(e);var a=$('[ng-model="'+t+'"]');if(a.length>0)a.is("input, textarea, select")?a.val(r):a.text(r);else{var l=$("#"+t);if(l.length>0)l.is("input, textarea, select")?l.val(r):l.text(r);else{var u=$("."+t);u.length>0&&(u.is("input, textarea, select")?u.val(r):u.text(r))}}},u=function(e,t){$.each(e,(function(e,n){var r=$(t).find('[ng-model="'+e+'"]');if(r.length>0)r.is("input, textarea, select")?r.val(n):r.text(n);else{var a=$(t).find("#"+e);if(a.length>0)a.is("input, textarea, select")?a.val(n):a.text(n);else{var l=$(t).find("."+e);l.length>0&&(l.is("input, textarea, select")?l.val(n):l.text(n))}}}))},i=function(e,t){let n=[],r="";if(e)r="#"+e;else if(!t)return console.error("请传入对应参数tableId,或Element"),n;return document.querySelector(r)?(document.querySelectorAll("#"+e+" tr").forEach((e=>{e.querySelectorAll("td").forEach((e=>{let r=e.querySelectorAll("input"),a=e.querySelectorAll("select");r.length>0&&r.forEach((e=>{let r=$(e).attr(t);r&&n.push(r)})),a.length>0&&a.forEach((e=>{let r=$(e).attr(t);r&&n.push(r)}))}))})),n):(console.error("没有找到有表格，请检查."),n)},o=function(e){if(void 0===e||""==e)return"参数不能为空";var t={plugId:window.plugId,flag:window.flag,taskId:window.taskId,myAnswer:JSON.stringify(e)};ajaxBase.saveTaskData(t,!1,null,(function(e){return layer.closeAll("loading"),1==e.success||(top.layer.msg(e.message),!1)}),(function(e){return top.layer.closeAll("loading"),top.layer.msg("保存失败"),!1}))},s=function(e,t,n,r){if(E(t)||E(n))return"参数需要有值";if(0!==Object.values(r).length){var l={},u=i(t,n);if(0===e.length||E(e))console.log("No strArr"),Object.keys(r).forEach(((e,t)=>{l[u[t]]=r[e]}));else{console.log("Yes strArr");for(var o=0;o<u.length;o++)l[u[o]]=r[e[o]]}return a(l),l}return"第四个参数值不能为空"},c=function(e,t,n,r,a){if(e.length>0||""!==e){$("#"+n).empty();for(let t=0;t<a.length;t++)$("#"+n).append(e)}var l=LT.getElementsFromTable(n,r);l=S(l),$("#"+n+" tr").each((function(e,n){for(var r={},i=0;i<l.length;i++)r[l[i]]=a[e][t[i]];u(r,n)}))},F=function(e,t,n,r){if(E(t)||E(n))return"参数需要有值";if(0!==Object.values(r).length){var a={},l=i(t,n);if(0===e.length||E(e))console.log("No strArr"),Object.keys(r).forEach(((e,t)=>{a[l[t]]=r[e]}));else{console.log("Yes strArr");for(var u=0;u<l.length;u++)a[l[u]]=r[e[u]]}return g(t,a),a}return"第四个参数值不能为空"},f=function(e,t,n){var r=$(e).find("#"+n+", [name='"+n+"'], [ng-model='"+n+"'], ."+n);0===r.length&&(r=$("#"+e).find("#"+n+", [name='"+n+"'], [ng-model='"+n+"'], ."+n));try{t.includes("❀")?r.is("input, textarea, select")?r.val(t.split("❀")[0]):r.text(t.split("❀")[0]):r.is("input, textarea, select")?r.val(t):r.text(t),"2"==t.split("❀")[1]&&r.css({"background-color":"red"})}catch(e){console.log(n)}},g=function(e,t){try{$.each(t,(function(t,n){f(e,n,t)}))}catch(e){return e}},d=function(e,t){for(const n in t)e.setAttribute(n,t[n]);return e},m=function(e,t){if(!e)return;let n=document.createEvent("Events");n.initEvent(t,!0,!0),t in e?(e[t](),["blur","scroll","select"].includes(t)&&e.dispatchEvent(n)):e.dispatchEvent(n)},p=function(e){Array.from(document.querySelectorAll(e)).forEach((e=>e.style.display="none"))},h=function(e){return Object.keys(e).reduce(((t,n)=>(t.append(n,e[n]),t)),new FormData)},x=function(e,t){var n=$("#"+e)[0].contentWindow;n&&"function"==typeof n[t]?n[t]():console.log(t+" 方法不存在或不是一个函数")},v=function(e,t){return e.reduce(((e,n)=>[...e,t.reduce(((e,t)=>({...e,[t]:n[t]})),{})]),[])},y=function(e){return null===e},b=function(e){return"number"==typeof e},A=function(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()},D=function(e,t){return A(e)===t},E=function(e){return void 0===e},N=function(e){return Object.values(e).length},T=function(){return Array.from(arguments).reduce(((e,t)=>function(e,t){for(var n in t)e[n]=e[n]&&"[object Object]"===e[n].toString()?merge(e[n],t[n]):e[n]=t[n];return e}(e,t)),{})},w=(e,t,n)=>{if(!["array","object"].includes(A(e)))throw new TypeError("The first argument should be either an object or an array！");if("[object Object]"!==Object.prototype.toString.call(t))throw new TypeError("The parameter keyMap should be an object!");let r=Array.isArray(e)?[]:{};if(e instanceof Object)for(let a in e){let l=Object.keys(t).includes(a)?t[a]:a;r[l]=e[a],n&&["array","object"].includes(A(e[a]))&&Object.keys(e[a]).length&&(r[l]=w(e[a],t,n))}return r},V=function(e,t){return isNaN(e)?t:parseFloat(e).toFixed(2)},j=function(e){return isNaN(e)?"":parseFloat(e).toFixed(2)},O=function(e,t,n){return e.filter((e=>e[`${t}`]===n))},S=function(e){for(var t=[],n={},r=0;r<e.length;r++)n[e[r]]||(n[e[r]]=!0,t.push(e[r]));return t},C=function(e){return"symbol"!=typeof e&&!isNaN(parseFloat(e))&&isFinite(e)},k=function(e,t=!1,n,r){if(void 0===e||null==e)return"";let a=e+"";if(!C(a))return"";let l=!a.includes("."),u=0==(n=void 0===n?l?0:a.split(".")[1].length:n)?Math.round(a)+"":l?a.split(".")[0]:(I(1*a+"",n)+"").split(".")[0];a=I(1*a+"",n)+"";let i=0==n||l?"":a.split(".")[1];i=(i||"").padEnd(n,0);let o=(t?u.replace(/(?=(?!\b)(\d{3})+$)/g,","):u)+(i.length?"."+i:"");return r?Number(o):o},I=function(e,t){return void 0===t?e:Number(Math.round(e+"e"+(t||0))+"e-"+(t||0))},J=function(e,t){for(var n=[],r=0;r<t.length;r++){var a=t[r];if(e.hasOwnProperty(a)){var l=e[a];null!=l&&""!==l||n.push(a)}else n.push(a)}if(n.length>0){var u=function(e){return"以下必填项未填写:<br>"+e.map((e=>"• "+e)).join("<br>")+"<br>"}(n);return layer.confirm(u,{icon:2}),!1}return!0},B=function(e){return/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(e)};function z(e){var t=e;if(""==t)return"身份证号码不能为空";if(!new RegExp(/(^\d{15}$)|(^\d{17}(\d|x|X)$)/i).exec(t))return"身份证号码长度必须正确，请核对！";if(new RegExp(/^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$/).exec(t))tmpBirthday="19"+t.substring(6,8)+"-"+t.substring(8,10)+"-"+t.substring(10,12);else{tmpSum=0,t=t.replace(/x|X$/i,"a");for(var n=17;n>=0;n--)tmpSum+=Math.pow(2,n)%11*parseInt(t.charAt(17-n),11);if(tmpSum%11!=1)return"身份证号码不符相关标准，请核对！";tmpBirthday=t.substring(6,10)+"-"+t.substring(10,12)+"-"+t.substring(12,14)}if(null=={11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",91:"国外"}[parseInt(t.substring(0,2))])return"身份证号码证件地区未知，请核对！";var r=new Date(tmpBirthday.replace(/-/g,"/"));return tmpBirthday==r.getFullYear()+"-"+getAppendZore(r.getMonth()+1)+"-"+getAppendZore(r.getDate())||"身份证号码出生日期非法，请核对！"}window.taoLuoUtil={setAttr:d,trigger:m,hide:p,fromData:h,pick:v,isNull:y,isNumber:b,isEmail:B,getType:A,isType:D,isUndefined:E,mergeObject:T,convertKey:w,filteredArray:O,isNum:C,fmtNum:k,getAnyNameValue:e,getValuesFromJson:t,setValuesFromJson:a,saveStuData:o,setTableValuesFromJson:u,getElementsFromTable:i,getTableValuesFromJson:r,setSingleValueByAttrName:l,getSingleValue:n,doCheckRealCard:z,objectLength:N,setValuesByTableId:s},window.LT={setAttr:d,trigger:m,hide:p,fromData:h,pick:v,isNull:y,isNumber:b,isEmail:B,getType:A,isType:D,isUndefined:E,mergeObject:T,convertKey:w,filteredArray:O,isNum:C,fmtNum:k,getAnyNameValue:e,getValuesFromJson:t,setValuesFromJson:a,saveStuData:o,setTableValuesFromJson:u,getElementsFromTable:i,getTableValuesFromJson:r,setSingleValueByAttrName:l,getSingleValue:n,doCheckRealCard:z,objectLength:N,setValuesByTableId:s,setAnswerValuesByTableId:F,typeColor:f,callIframeMethod:x,isNaNToValue:V,isNaNToNullString:j,customTableAssignments:c,uniqueFn:S,setTableValuesAndColor:g,checkAndAlertEmptyValues:J},window.domOption={setAttr:d,trigger:m,getAnyNameValue:e,getSingleValue:n,hide:p,callIframeMethod:x},window.tableOption={getValuesFromJson:t,setValuesFromJson:a,setTableValuesFromJson:u,getElementsFromTable:i,getTableValuesFromJson:r,setValuesByTableId:s,setAnswerValuesByTableId:F,customTableAssignments:c,setTableValuesAndColor:g},window.common={getType:A,isType:D,isNum:C,fmtNum:k,isNumber:b,isEmail:B,saveStuData:o,isUndefined:E,setAnyTypeValue:function(e,t){var n=$("#"+e+", [name='"+e+"'], [ng-model='"+e+"'], ."+e);0==n.length&&console.log("请检查，有误！获取到的attName的length=>"+n.length);try{return n.is("input, textarea, select")?n.val(t):n.text(t),"true"}catch(e){return console.log("请检查，有误！=>"+e),"请检查，有误！=>"+e}},isNaNToValue:V,isNaNToNullString:j,uniqueFn:S,checkAndAlertEmptyValues:J},window.jsonObject={isUndefined:E,mergeObject:T,convertKey:w,objectLength:N,isMatch:function(e,t){const n=Object.keys(t),r=n.length;if(null==e)return!r;const a=Object(e);for(let e=0;e<r;e++){const r=n[e];if(t[r]!==a[r]||!(r in a))return!1}return!0},fromData:h,checkAndAlertEmptyValues:J},window.arrayOption={filteredArray:O,uniqueFn:S}})();