(()=>{"use strict";const e=function(e){var t="",n=$('[ng-model="'+e+'"]');if(n.length>0&&(t=n.is("input, textarea, select")?n.val():n.text()),!t){var r=$("#"+e);r.length>0&&(t=r.is("input, textarea, select")?r.val():r.text())}if(!t){var u=$("."+e);u.length>0&&(t=u.is("input, textarea, select")?u.val():u.text())}return t},t=function(e){$.each(e,(function(e,t){var n=$('[ng-model="'+e+'"]');if(n.length>0)n.is("input, textarea, select")?n.val(t):n.text(t);else{var r=$("#"+e);if(r.length>0)r.is("input, textarea, select")?r.val(t):r.text(t);else{var u=$("."+e);u.length>0&&(u.is("input, textarea, select")?u.val(t):u.text(t))}}}))},n=function(e,t){let n=[],r="";if(e)r="#"+e;else if(!t)return console.error("请传入对应参数tableId,或Element"),n;return document.querySelector(r)?(document.querySelectorAll("#"+e+" tr").forEach((e=>{e.querySelectorAll("td").forEach((e=>{let r=e.querySelectorAll("input"),u=e.querySelectorAll("select");r.length>0&&r.forEach((e=>{let r=$(e).attr(t);r&&n.push(r)})),u.length>0&&u.forEach((e=>{let r=$(e).attr(t);r&&n.push(r)}))}))})),n):(console.error("没有找到有表格，请检查."),n)},r=function(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()},u=function(e){return void 0===e},a=(e,t,n)=>{if(!["array","object"].includes(r(e)))throw new TypeError("The first argument should be either an object or an array！");if("[object Object]"!==Object.prototype.toString.call(t))throw new TypeError("The parameter keyMap should be an object!");let u=Array.isArray(e)?[]:{};if(e instanceof Object)for(let l in e){let i=Object.keys(t).includes(l)?t[l]:l;u[i]=e[l],n&&["array","object"].includes(r(e[l]))&&Object.keys(e[l]).length&&(u[i]=a(e[l],t,n))}return u},l=function(e){return"symbol"!=typeof e&&!isNaN(parseFloat(e))&&isFinite(e)},i=function(e,t){return void 0===t?e:Number(Math.round(e+"e"+(t||0))+"e-"+(t||0))};window.taoLuoUtil={setAttr:function(e,t){for(const n in t)e.setAttribute(n,t[n]);return e},trigger:function(e,t){if(!e)return;let n=document.createEvent("Events");n.initEvent(t,!0,!0),t in e?(e[t](),["blur","scroll","select"].includes(t)&&e.dispatchEvent(n)):e.dispatchEvent(n)},hide:function(e){Array.from(document.querySelectorAll(e)).forEach((e=>e.style.display="none"))},fromData:function(e){return Object.keys(e).reduce(((t,n)=>(t.append(n,e[n]),t)),new FormData)},pick:function(e,t){return e.reduce(((e,n)=>[...e,t.reduce(((e,t)=>({...e,[t]:n[t]})),{})]),[])},isNull:function(e){return null===e},isNumber:function(e){return"number"==typeof e},isEmail:function(e){return/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(e)},getType:r,isType:function(e,t){return r(e)===t},isUndefined:u,mergeObject:function(){return Array.from(arguments).reduce(((e,t)=>function(e,t){for(var n in t)e[n]=e[n]&&"[object Object]"===e[n].toString()?merge(e[n],t[n]):e[n]=t[n];return e}(e,t)),{})},convertKey:a,filteredArray:function(e,t,n){return e.filter((e=>e[`${t}`]===n))},isNum:l,fmtNum:function(e,t=!1,n,r){if(void 0===e||null==e)return"";let u=e+"";if(!l(u))return"";let a=!u.includes("."),s=0==(n=void 0===n?a?0:u.split(".")[1].length:n)?Math.round(u)+"":a?u.split(".")[0]:(i(1*u+"",n)+"").split(".")[0];u=i(1*u+"",n)+"";let o=0==n||a?"":u.split(".")[1];o=(o||"").padEnd(n,0);let c=(t?s.replace(/(?=(?!\b)(\d{3})+$)/g,","):s)+(o.length?"."+o:"");return r?Number(c):c},getAnyNameValue:function(e){var t="",n=$('[ng-model="'+e+'"]');if(n.length>0&&(t=n.is("input, textarea, select")?n.val():n.text()),!t){var r=$("#"+e);r.length>0&&(t=r.is("input, textarea, select")?r.val():r.text())}if(!t){var u=$("."+e);u.length>0&&(t=u.is("input, textarea, select")?u.val():u.text())}return t},getValuesFromJson:function(t){var n={};return $.each(t,(function(t,r){var u=e(r);n[t]=u})),n},setValuesFromJson:t,saveStuData:function(e){if(void 0===e||""==e)return"参数不能为空";var t={plugId:window.plugId,flag:window.flag,taskId:window.taskId,myAnswer:JSON.stringify(e)};ajaxBase.saveTaskData(t,!1,null,(function(e){return layer.closeAll("loading"),1==e.success||(top.layer.msg(e.message),!1)}),(function(e){return top.layer.closeAll("loading"),top.layer.msg("保存失败"),!1}))},setTableValuesFromJson:function(e,t){$.each(e,(function(e,n){var r=$(t).find('[ng-model="'+e+'"]');if(r.length>0)r.is("input, textarea, select")?r.val(n):r.text(n);else{var u=$(t).find("#"+e);if(u.length>0)u.is("input, textarea, select")?u.val(n):u.text(n);else{var a=$(t).find("."+e);a.length>0&&(a.is("input, textarea, select")?a.val(n):a.text(n))}}}))},getElementsFromTable:n,getTableValuesFromJson:function(e,t){var n={};return $.each(e,(function(e,r){var u="",a=$(t).find('[ng-model="'+r+'"]');if(a.length>0&&(u=a.is("input, textarea, select")?a.val():a.text()),!u){var l=$(t).find("#"+r);l.length>0&&(u=l.is("input, textarea, select")?l.val():l.text())}if(!u){var i=$(t).find("."+r);i.length>0&&(u=i.is("input, textarea, select")?i.val():i.text())}n[e]=u})),n},setSingleValueByAttrName:function(t,n){let r=e(t);var u=$('[ng-model="'+n+'"]');if(u.length>0)u.is("input, textarea, select")?u.val(r):u.text(r);else{var a=$("#"+n);if(a.length>0)a.is("input, textarea, select")?a.val(r):a.text(r);else{var l=$("."+n);l.length>0&&(l.is("input, textarea, select")?l.val(r):l.text(r))}}},getSingleValue:e,doCheckRealCard:function(e){var t=e;if(""==t)return"身份证号码不能为空";if(!new RegExp(/(^\d{15}$)|(^\d{17}(\d|x|X)$)/i).exec(t))return"身份证号码长度必须正确，请核对！";if(new RegExp(/^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$/).exec(t))tmpBirthday="19"+t.substring(6,8)+"-"+t.substring(8,10)+"-"+t.substring(10,12);else{tmpSum=0,t=t.replace(/x|X$/i,"a");for(var n=17;n>=0;n--)tmpSum+=Math.pow(2,n)%11*parseInt(t.charAt(17-n),11);if(tmpSum%11!=1)return"身份证号码不符相关标准，请核对！";tmpBirthday=t.substring(6,10)+"-"+t.substring(10,12)+"-"+t.substring(12,14)}if(null=={11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",91:"国外"}[parseInt(t.substring(0,2))])return"身份证号码证件地区未知，请核对！";var r=new Date(tmpBirthday.replace(/-/g,"/"));return tmpBirthday==r.getFullYear()+"-"+getAppendZore(r.getMonth()+1)+"-"+getAppendZore(r.getDate())||"身份证号码出生日期非法，请核对！"},objectLength:function(e){return Object.values(e).length},setValuesByTableId:function(e,r,a,l){if(0===e.length||u(r)||u(a))return"参数需要有值";if(0!==Object.values(l).length){for(var i={},s=n(r,a),o=0;o<s.length;o++)i[s[o]]=l[e[o]];return t(i),i}return"第四个参数值不能为空"}}})();